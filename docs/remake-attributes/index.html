<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Remake is a web app framework that makes it possible to ship a product faster than ever.">
    <title>Saving Data Attributes - Remake Docs</title>
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700" rel="stylesheet">
    <link rel="stylesheet" href="/static/normalize-min.css?v=900">
    <link rel="stylesheet" href="/static/prism.css?v=900">
    <link rel="stylesheet" href="/static/slideout.css?v=900">
    <link rel="stylesheet" href="/static/style.css?v=900">
    <!-- favicon: -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=900">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=900">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=900">
    <link rel="manifest" href="/site.webmanifest?v=900">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=900" color="#5bbad5">
    <meta name="apple-mobile-web-app-title" content="Remake">
    <meta name="application-name" content="Remake">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <!-- OG meta tags -->
    
    <meta name="og:site_name" content="Remake Documentation">
    <meta name="og:type" content="website">
  </head>
  <body>
    <div id="menu">
    </div>
    <div id="panel">
      <div class="page">
        <div class="sidebar hide-on-mobile">
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">INTRO</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/">What is Remake?</a>
              <a class="sidebar__list-item " href="/high-level-overview">High-level Overview</a>
              <a class="sidebar__list-item " href="/a-simple-example-app">A Simple Example App</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">GETTING STARTED</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/install-and-setup">Install &amp; Setup</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">TUTORIAL</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/introducing-remake">Introducing Remake</a>
              <a class="sidebar__list-item " href="/installing-and-setting-up-remake">Installing & Setting Up Remake</a>
              <a class="sidebar__list-item " href="/attach-data-to-elements">Attach Data to Elements</a>
              <a class="sidebar__list-item " href="/rendering-data">Rendering Data</a>
              <a class="sidebar__list-item " href="/making-data-editable">Making Data Editable</a>
              <a class="sidebar__list-item " href="/adding-new-items">Adding New Items</a>
              <a class="sidebar__list-item " href="/sorting-lists-of-items">Sorting Lists of Items</a>
              <a class="sidebar__list-item " href="/deploy-a-remake-web-app">Deploy a Remake Web App</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">HOW REMAKE WORKS</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/command-line-tool">Command Line Tool</a>
              <a class="sidebar__list-item " href="/data">Data</a>
              <a class="sidebar__list-item " href="/saving">Saving</a>
              <a class="sidebar__list-item " href="/file-uploads">File Uploads</a>
              <a class="sidebar__list-item " href="/routing">Routing</a>
              <a class="sidebar__list-item " href="/templating">Templating</a>
              <a class="sidebar__list-item " href="/sortable-items">Sortable items</a>
              <a class="sidebar__list-item " href="/user-accounts">User accounts</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">REMAKE'S ATTRIBUTES</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item sidebar__list-item--selected" href="/remake-attributes#saving">Saving data</a>
              <a class="sidebar__list-item " href="/remake-attributes#update">Updating data</a>
              <a class="sidebar__list-item " href="/remake-attributes#watch">Reacting to data</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">REMAKE CORE</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/remake-setup-and-callbacks">Setup and Callbacks</a>
              <a class="sidebar__list-item " href="/remake-methods">Remake Methods</a>
              <a class="sidebar__list-item " href="/remake-edit-popover">Remake Edit Popover</a>
              <a class="sidebar__list-item " href="/remake-upload-notice">Remake Upload Notice</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">ABOUT</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/why-remake">Why Remake</a>
              <a class="sidebar__list-item " href="/contributors">Contributors</a>
            </div>
          </div>
          <div class="sidebar__list-container">
            <div class="sidebar__list-heading">TECHNICAL CONCEPTS</div>
            <div class="sidebar__list">
              <a class="sidebar__list-item " href="/flattening-the-stack">Flattening the stack</a>
              <a class="sidebar__list-item " href="/what-is-crud">What is a CRUD web app?</a>
            </div>
          </div>
        </div>
        <div class="main">
          <a class="github-link github-link--top" href="https://github.com/remake/remake" target="_blank"><img src="/static/github.svg"> View on GitHub</a>
          <h1>Saving Data</h1>
<p>Remake uses custom attributes to store data and add web app behavior. You can use these attributes to create a fully working web app.</p>
<p>See the <a href="https://recipes.remaketheweb.com/">Remake Recipes</a> for some step-by-step examples or the <a href="/attach-data-to-elements/">TLDR summary of all the attributes</a>.</p>
<h3><code>object</code></h3>
<p>Add this <code>object</code> attribute to an HTML element to let Remake know there's data on it. Remake scans the page for all <code>object</code> attribute and converts them into data.</p>
<p><strong>Example of an <code>object</code> element:</strong></p>
<pre><code class="language-html">&lt;div object&gt;&lt;/div&gt;
</code></pre>
<p>This is valid Remake code and will be converted into <code>{}</code> when the page is saved.</p>
<p>Remake can convert an element into one of two data structures:</p>
<ul>
<li>object</li>
<li>array</li>
</ul>
<p>Next, we'll learn about arrays.</p>
<h3><code>array</code></h3>
<p>Add this <code>array</code> attribute to an HTML element to let Remake know there's data on it. Remake scans the page for all <code>array</code> attribute and converts them into data.</p>
<p><strong>Example of an <code>array</code> element:</strong></p>
<pre><code class="language-html">&lt;div array&gt;&lt;/div&gt;
</code></pre>
<p>This is valid Remake code and will be converted into <code>[]</code> when the page is saved.</p>
<h3><code>key</code></h3>
<p>This attribute allows you to label data inside a parent object.</p>
<p>Normally, in Remake, if there's an <code>object</code> inside another <code>object</code>, their data will be merged into a single object:</p>
<p>The following code, for example, produces a single object.</p>
<pre><code class="language-html">&lt;div data-o-type=&quot;object&quot;&gt;
  &lt;div data-o-type=&quot;object&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Output:</p>
<pre><code class="language-js">{}
</code></pre>
<p>To prevent this merge from happening and instead label the nested object, you can use the <code>key</code> attribute.</p>
<pre><code class="language-html">&lt;div object&gt;
  &lt;div object key=&quot;someKeyName&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Output:</p>
<pre><code class="language-js">{
  someKeyName: {}
}
</code></pre>
<p>Now the nested object is inside the other object and labeled as <code>someKeyName</code>.</p>
<h3><code>key:some-example-key</code></h3>
<p>This attribute lets you attach key/value pairs to an <code>object</code> element.</p>
<p>This attribute is how Remake stores data in HTML.</p>
<p>For example:</p>
<pre><code class="language-html">&lt;div 
  object
  key:first-name=&quot;David&quot; 
  key:favorite-color=&quot;green&quot;
&gt;&lt;/div&gt;
</code></pre>
<p>Remake will convert this element into an <code>object</code> that has two keys and two values:</p>
<pre><code class="language-javascript">{firstName: &quot;David&quot;, favoriteColor: &quot;green&quot;}
</code></pre>
<p><strong>Good to know:</strong></p>
<ul>
<li>You can attach as many key/value pairs to the same element as you want.</li>
<li>Remake only understands text as a value (no numbers or dates for now, but this will change)</li>
<li>Key names are automatically camel-cased for you when they're saved (e.g. <code>key:some-key</code> is converted into <code>someKey</code>)</li>
<li>There's one special key in Remake: <code>key:id</code>. It's useful for storing data to a specific place.</li>
</ul>
<h3><code>key:some-example-key=&quot;@&quot;</code></h3>
<p>If you set a key equal to <code>@</code> followed by a valid command, Remake will look elsewhere for the value of they key.</p>
<p>Read on to learn about all the valid commands.</p>
<h4>Native property commands</h4>
<p>Every native HTML property is a valid command:</p>
<ul>
<li><code>@id</code></li>
<li><code>@className</code></li>
<li><code>@type</code></li>
<li><code>@src</code></li>
<li><code>@href</code></li>
<li><code>@value</code></li>
<li><code>@checked</code></li>
<li><code>@innerText</code></li>
<li><code>@innerHTML</code></li>
<li><code>@style</code></li>
<li><code>@title</code></li>
<li><code>@alt</code></li>
<li><code>@for</code></li>
<li><code>@placeholder</code></li>
</ul>
<p>Every normal HTML property command tell Remake to simply look in the named property inside the current element for the value of the key (e.g. <code>elem.src</code>).</p>
<h4>Special commands</h4>
<p>There are two special commands:</p>
<ul>
<li><code>@attr:</code>
<ul>
<li>Useful for looking up the value of custom attributes (e.g. <code>@attr:data-x</code>)</li>
</ul>
</li>
<li><code>@search</code>
<ul>
<li>Searches the current element for a <code>target:</code> attribute that matches the original key name</li>
<li>Executes any commands on that <code>target:</code> element to get the final value</li>
</ul>
</li>
</ul>
<h2 class="api" id="watch">Reacting To Data Changes</h2>
<h3><code>watch:some-example-key</code></h3>
<p>Use this attribute to react to changes on another key's value. The key it reacts to must be on the same element or an ancestor element.</p>
<p>The value for this attribute can be any of the <strong>native property commands</strong> listed in the section above this one (e.g. <code>@innerText</code> or <code>@src</code>).</p>
<p>You can also use this attribute to call custom functions.</p>
<pre><code class="language-html">watch:some-example-key=&quot;customFunction1(arg1, arg2) customFunction2(arg1, arg2)&quot;
</code></pre>
<p>In this example, <code>customFunction1</code> and <code>customFunction2</code> would be defined when you first initialize Remake, inside the <code>watchFunctions</code> object.</p>
<p><strong>Good to know:</strong></p>
<ul>
<li>By convention, this attribute should be attached to the element it's modifying.</li>
<li>This attribute is very useful for displaying the same values in multiple places across a page while using the same data source.</li>
</ul>
<p>For example, let's say you wanted to have a button on a landing page that had the same text no matter where it was displayed, you could do this:</p>
<pre><code class="language-html">&lt;div object key:button-text=&quot;Buy Now!&quot;&gt;
  &lt;button watch:button-text=&quot;@innerText&quot;&gt;&lt;/button&gt;
  &lt;button watch:button-text=&quot;@innerText&quot;&gt;&lt;/button&gt;
  &lt;button watch:button-text=&quot;@innerText&quot;&gt;&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>With this setup, if the value of <code>buttonText</code> ever changed, all of the buttons will get the new value inserted into their <code>innerText</code>.</p>
<h2 class="api" id="updating-data">Updating Data</h2>
<h3><code>edit:some-example-key</code></h3>
<p>Clicking on an element with this attribute will trigger an inline edit popover. The key it's editing must be on the same element or an ancestor element.</p>
<h4>A simple example:</h4>
<pre><code class="language-html">&lt;div object key:my-text=&quot;A simple note&quot;&gt;
  &lt;button edit:my-text&gt;Edit text&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>If you want to edit two keys at the same time, simply add another <code>edit:</code> attribute.</p>
<h4>Editing two keys at once:</h4>
<pre><code class="language-html">&lt;div object key:my-age=&quot;34&quot; key:my-name=&quot;David&quot;&gt;
  &lt;button edit:my-age edit:my-name&gt;Edit my info&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<h4>Removing the &quot;remove&quot; button</h4>
<p>Remake supports removing the &quot;remove&quot; button from the inline edit popover.</p>
<pre><code class="language-html">&lt;div object key:my-text=&quot;A simple note&quot;&gt;
  &lt;button edit:my-text:without-remove&gt;Edit text&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>This is useful if there's a piece of data in your app that you want to be editable, but not deletable.</p>
<h4>Other edit areas</h4>
<p>Remake supports editing multi-line text inside the popover. The following example will trigger an auto-expanding <code>textarea</code> instead of a single line input:</p>
<pre><code class="language-html">&lt;div object key:my-text=&quot;A simple note&quot;&gt;
  &lt;button edit:my-text:textarea&gt;Edit text&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p><strong>On the roadmap:</strong> Support for other edit areas, like radio buttons and dropdowns and color pickers is coming soon. <a href="https://form.remaketheweb.com/">Sign up</a> to hear about when they're released.</p>
<p><strong>Good to know:</strong></p>
<ul>
<li>If, when a user clicks the &quot;remove&quot; button inside the inline edit popover, you want to set all of the data to empty strings instead of removing the data from the page altogether, use this modifier <code>edit:some-example-key:with-erase</code></li>
</ul>
<h3><code>update:some-example-key</code></h3>
<p>Add this attribute to any <code>&lt;input&gt;</code> (e.g. <code>&lt;input type=&quot;text&quot;&gt;</code>, <code>&lt;input type=&quot;color&quot;&gt;</code>, <code>&lt;input type=&quot;file&quot;&gt;</code>, etc.), <code>&lt;textarea&gt;</code>, or <code>&lt;select&gt;</code> element.</p>
<p>Whenever the value of these elements changes, Remake will update the value on an element with a matching <code>key:</code>. The key it's updating must be on the same element or an ancestor element.</p>
<p>For example:</p>
<pre><code class="language-html">&lt;div object key:favorite-animal=&quot;giraffe&quot;&gt;
  &lt;label&gt;&lt;input type=&quot;radio&quot; update:favorite-animal value=&quot;giraffe&quot;&gt; giraffe&lt;/label
  &lt;label&gt;&lt;input type=&quot;radio&quot; update:favorite-animal value=&quot;pangolin&quot;&gt; pangolin&lt;/label
  &lt;label&gt;&lt;input type=&quot;radio&quot; update:favorite-animal value=&quot;zebra&quot;&gt; zebra&lt;/label
&lt;/div&gt;
</code></pre>
<p>You can also attach the <code>update:</code> attribute to any other HTML element (e.g. <code>&lt;button&gt;</code>, <code>&lt;div&gt;</code>, etc.) to make clicking on it trigger an update. In this case, the value will be taken from the value of the <code>update:</code> attribute.</p>
<p>For example:</p>
<pre><code class="language-html">&lt;div object key:favorite-animal=&quot;giraffe&quot;&gt;
  &lt;button update:favorite-animal=&quot;giraffe&quot;&gt;Choose giraffe&lt;/button&gt;
  &lt;button update:favorite-animal=&quot;pangolin&quot;&gt;Choose pangolin&lt;/button&gt;
  &lt;button update:favorite-animal=&quot;zebra&quot;&gt;Choose zebra&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<h3><code>new:example-item-name</code></h3>
<p>If you click on an element with this attribute, Remake will do its best to render a template and add it to the page.</p>
<p>Remake looks for a template that matches the name:</p>
<ul>
<li>In your <code>{{#for}}</code> loops</li>
<li>In the templates in your <code>app/partials</code> directory</li>
</ul>
<p>The template is rendered server-side and then passed back to the client-side to be added to the page.</p>
<h4>Controlling where the template is inserted</h4>
<p>You can pass some options to the value of this attribute: <code>top</code> or <code>bottom</code> or a CSS selector (e.g. <code>.my-list</code>).</p>
<p>Remake will use the <code>top</code> or <code>bottom</code> argument to decide where in the list to insert the new item. By default this is set to <code>bottom</code>.</p>
<p>And it will use the CSS selector argument to find the list you want the item to be inserted into. By default this is set to <code>[array]</code>, so it just finds the closest element with the <code>array</code> attribute.</p>
<p>For example:</p>
<pre><code class="language-html">&lt;ul class=&quot;todo-list&quot; array&gt;&lt;/ul&gt;
&lt;button new:todo-item=&quot;.todo-list top&quot;&gt;&lt;/button&gt;
</code></pre>
<p>This will render the template <code>todoItem</code> and insert it at the top of the element with the <code>todo-list</code> class.</p>
<h3><code>toggle:some-example-key</code></h3>
<p>This attribute will toggle the value of a key that matches its name. The key it's toggling must be on the same element or an ancestor element.</p>
<p>The values it toggles between are <code>on</code> and <code>off</code>.</p>
<h3><code>temporary:key:some-example-key</code></h3>
<p>This attribute behaves exactly the same as its counterpart, <code>key:some-example-key</code>, with two exceptions:</p>
<ol>
<li>When the value of a <code>temporary:key:</code> attribute changes, a save event isn't triggered</li>
<li>The key and value of a <code>temporary:key:</code> attribute is invisible to the save function (their data simply isn't saved)</li>
</ol>
<p>It's very useful for attaching temporary state to the page (e.g. toggling menus, sidebars, or tabs)</p>
<h3><code>default:some-example-key</code></h3>
<p>If a <code>key:</code> that matches this attribute is going to be set to a value of an empty string (e.g. <code>&quot;&quot;</code> or even <code>&quot; &quot;</code>), replace the value with the value of this attribute instead.</p>
<h3><code>save</code></h3>
<p>Clicking on an element with this attribute will trigger a save.</p>
<h3><code>remove</code></h3>
<p>When an element with this attribute is clicked, it will find the closest element with data and remove that element from the page. It will look for data first on the current element and then on all of its ancestor elements.</p>
<h3><code>erase</code></h3>
<p>When an element with this attribute is clicked, it will find the closest element with data and set all of its data to empty strings. It will look for data first on the current element and then on all of its ancestor elements.</p>
<h2 class="api">Some Tips for working with Remake</h2>
<h3>Styling</h3>
<p>Remake transforms your page into one big piece of data.</p>
<p>This makes it a lot easier than normal to style your page based on which data is set and which data isn't.</p>
<p>For example, lets say you wanted to implement a Dark Mode theme on your page. Your HTML might look like this:</p>
<pre><code class="language-html">&lt;body object key:dark-mode=&quot;on&quot;&gt;
  &lt;button toggle:dark-mode&gt;Toggle Dark Mode&lt;/button&gt;
&lt;/body&gt;
</code></pre>
<p>Now, in your CSS you can style the page normally if Dark Mode is not enabled and differently if it is:</p>
<pre><code class="language-css">body {
  background: #fff;
  color: #222;
}

body[key\:dark-mode=&quot;on&quot;] {
  background: #222;
  color: #fff;
}
</code></pre>
<p><strong>Tip:</strong> You must escape the <code>:</code> in CSS selectors with a back slash <code>\</code>.</p>
<h2 class="api">Advanced Data Attributes</h2>
<h3><code>ignore-data</code></h3>
<p>Remake will skip over this element when saving data for a page.</p>
<h3><code>no-save</code></h3>
<p>Remake won't trigger a save event if data inside an element with this attribute changes.</p>
<h3><code>disable-events</code></h3>
<p>Remake events triggered by the <code>new:</code>, <code>save</code>, <code>edit:</code>, <code>update:</code>, <code>toggle:</code>, <code>remove</code> attributes will NOT trigger inside of an element with this attribute.</p>
<h3><code>custom-save</code></h3>
<p>If you want to handle the save event yourself, add this attribute above the elements you're editing and pass in the name of a custom save function that you define when initializing Remake (in the <code>saveFunctions</code> object).</p>
<p>Reasons you might want to do this:</p>
<ul>
<li>You want to save a section of the page to a custom API endpoint</li>
<li>You want to save a section of the page to a particular place in the user's data</li>
</ul>
<p>For example:</p>
<pre><code class="language-html">&lt;div custom-save=&quot;customSaveFunction&quot;&gt;
  &lt;div object key:some-data=&quot;@innerText&quot; edit:some-data&gt;Hello!&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Whenever a user saves the <code>some-data</code> key after clicking on the element, it will be saved using the <code>customSaveFunction</code> instead of the normal Remake save method.</p>
<h3><code>sync</code></h3>
<p>Used on Remake's inline edit popovers. It makes it so data in the popover is synced back into the page before being saved.</p>
<p>This attribute is useful if you're creating your own inline edit popovers. To understand how it works, start by looking in <code>_remake/client-side/inputjs/editableAttribute.js</code>.</p>

          <div class="spacer--16"></div>
          <a class="github-link github-link--footer" href="https://github.com/remake/remake" target="_blank"><img src="/static/github.svg"> View on GitHub</a>
        </div>
      </div>
    </div>
    <a class="toggle-button" href="#">â˜° Menu</a>
    <script src="/static/slideout.min.js?v=900"></script>
    <script src="/static/prism.js?v=900"></script>
    <script src="https://cdn.jsdelivr.net/npm/polite-email-popup@0.9.3/dist/polite-email-popup.umd.js"></script>
    <script src="/static/main.js?v=900"></script>
    <script>
      (function(a,b,c){var d=a.history,e=document,f=navigator||{},g=localStorage,
      h=encodeURIComponent,i=d.pushState,k=function(){return Math.random().toString(36)},
      l=function(){return g.cid||(g.cid=k()),g.cid},m=function(r){var s=[];for(var t in r)
      r.hasOwnProperty(t)&&void 0!==r[t]&&s.push(h(t)+"="+h(r[t]));return s.join("&")},
      n=function(r,s,t,u,v,w,x){var z="https://www.google-analytics.com/collect",
      A=m({v:"1",ds:"web",aip:c.anonymizeIp?1:void 0,tid:b,cid:l(),t:r||"pageview",
      sd:c.colorDepth&&screen.colorDepth?screen.colorDepth+"-bits":void 0,dr:e.referrer||
      void 0,dt:e.title,dl:e.location.origin+e.location.pathname+e.location.search,ul:c.language?
      (f.language||"").toLowerCase():void 0,de:c.characterSet?e.characterSet:void 0,
      sr:c.screenSize?(a.screen||{}).width+"x"+(a.screen||{}).height:void 0,vp:c.screenSize&&
      a.visualViewport?(a.visualViewport||{}).width+"x"+(a.visualViewport||{}).height:void 0,
      ec:s||void 0,ea:t||void 0,el:u||void 0,ev:v||void 0,exd:w||void 0,exf:"undefined"!=typeof x&&
      !1==!!x?0:void 0});if(f.sendBeacon)f.sendBeacon(z,A);else{var y=new XMLHttpRequest;
      y.open("POST",z,!0),y.send(A)}};d.pushState=function(r){return"function"==typeof d.onpushstate&&
      d.onpushstate({state:r}),setTimeout(n,c.delay||10),i.apply(d,arguments)},n(),
      a.ma={trackEvent:function o(r,s,t,u){return n("event",r,s,t,u)},
      trackException:function q(r,s){return n("exception",null,null,null,null,r,s)}}})
      (window,"UA-154029000-3",{anonymizeIp:true,colorDepth:true,characterSet:true,screenSize:true,language:true});
    </script>
  </body>
</html>